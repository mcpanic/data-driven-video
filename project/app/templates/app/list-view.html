<%! 
    from staticfiles.storage import staticfiles_storage 
%>

<!DOCTYPE html>
<html>
<head>
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel='stylesheet' type='text/css'>
<link href="${staticfiles_storage.url('djmodules/video_analytics/css/common.css')}" rel='stylesheet' type='text/css'>
<link href="${staticfiles_storage.url('djmodules/video_analytics/css/list-view.css')}" rel='stylesheet' type='text/css'>
<script src="${staticfiles_storage.url('djmodules/video_analytics/js/jquery-1.10.2.min.js')}"></script>
<script src="${staticfiles_storage.url('djmodules/video_analytics/js/d3.v3.min.js')}"></script>
<!--<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>-->
<script src="${staticfiles_storage.url('djmodules/video_analytics/js/common.js')}"></script>
<script src="${staticfiles_storage.url('djmodules/video_analytics/js/list-view.js')}"></script>

<script>
var chart;
var player;
var options = {};
var duration = 0;
var visWidth = 540;
var visHeight = 180;
var data = ${data|n};
var videos = ${videos|n};

$(document).ready(function(){
    init();
});

</script>
</head>
<body>
<div class="container">
    <h2>Video Analytics Dashboard</h2>

    <div id="tabs" class="clearfix">
        <div><a class="tab-item" href="#" data-mode="summary">Summary</a></div>
        <div><a class="tab-item" href="#" data-mode="views">Views Over Time</a></div>
    </div>

    <section id="stats">
        <h3>Aggregate Summary</h3>
        <div class="clearfix">
        <div class="stat-box views">
            <div class="stat"></div>
            <div class="desc">views</div>
            <div class="substat"></div>
        </div>
        <div class="stat-box unique-views">
            <div class="stat"></div>
            <div class="desc">students started</div>
            <div class="substat"></div>
        </div>
        <div class="stat-box complete-count">
            <div class="stat"></div>
            <div class="desc">students completed</div>
            <div class="substat"></div>
        </div>            
        <div class="stat-box views-per-student">
            <div class="stat"></div>
            <div class="desc">views per student</div>
            <div class="substat"></div>
        </div>
        <div class="stat-box watching-time">
            <div class="stat"></div>
            <div class="desc">average view length</div>
            <div class="substat"></div>
        </div>
        </div>
    </section>


    <section id="videos">
        <h3>Videos</h3>
        <table id="videos-table" class="sortable">
            <tr>
                <th class="video-name"><span>Video</span><span class="sort-option" data-default="ascending"></span></th>
                <th class="video-style"><span>Style</span><span class="sort-option" data-default="ascending"></span></th>
                <th class="video-kind"><span>Kind</span><span class="sort-option" data-default="ascending"></span></th>
                <th class="views"><span>Views</span><span class="sort-option" data-default="descending"></span></th>
                <th class="watching-time"><span>Average view length</span><span class="sort-option" data-default="descending"></span></th>
                <th class="duration"><span>Duration</span><span class="sort-option" data-default="ascending"></span></th>
            </tr>
        </table>
    </section>  


    <section id="time-vis">
        <h3>Views Over Time</h3>
    </section>
</div>

</body>
</html>
